<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>拖拽</title>
</head>
<body>

<div id="container">
    <div id="fileName"></div>
    <div id="fileSize"></div>
    <div id="fileType"></div>
    <div id="fileLength"></div>
    <div id="fileLastModifiedDate"></div>
</div>


<div id="app"></div>

<script>
    // document监听drop并防止浏览器打开拖拽的文件
    document.ondragover = function (e) {
        e.preventDefault();
    }
    document.ondrop = function (e) {
        e.preventDefault();
    };


    document.getElementById("container").ondragover = function (e) {
          e.preventDefault();
    }

    /**
     *
     * @param e
     */
    document.getElementById("container").ondrop = function (e) {
        console.log(e.dataTransfer);

        const files = e.dataTransfer.files;
        for (let i = 0; i < files.length; i++) {
            const file = files[i];

            displayFileMeta(file);


            const reader = new FileReader();
            reader.readAsDataURL(file);
            // 读取完成后触发事件
            reader.onload = function () {
                const img = new Image();
                img.src = reader.result;
            }
        }
    }

    /**
     * 显示文件属性
     * @param file
     */
    function displayFileMeta(file) {
        document.getElementById("fileName").innerHTML = "fileName: " + file.name;
        document.getElementById("fileSize").innerHTML = "fileSize: " + file.size;

    }
</script>

<style>
    #container {
        width: 500px;
        height: 500px;
        margin: 0 auto;
        border: 1px solid #ccc;
    }
</style>

</body>
</html>
